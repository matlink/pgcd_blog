
<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <title>Le Parti des Geeks Cartésiens Démocrates - CMS</title>
        <link rel="shortcut icon" href="../theme/images/icons/atom.jpg" />
        <link rel="stylesheet" href="../theme/css/main.css" />
        <link href="https://fr.matlink.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Le Parti des Geeks Cartésiens Démocrates Atom Feed" />
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body"  >
                <h1><a href="../">Le Parti des Geeks Cartésiens Démocrates</a></h1>
                <center><a id="title_logo" href="../"><img src="../theme/images/icons/atom_big.png" /></a></center>
 <strong>Blog universitaire d'un groupe de potes passionnés</strong>                <nav><ul>
                    <li><a href="../category/annonces.html">Annonces</a></li>
                    <li><a href="../category/auto-hebergement.html">Auto-hébergement</a></li>
                    <li><a href="../category/hacking.html">Hacking</a></li>
                    <li><a href="../category/logiciels-libres.html">Logiciels Libres</a></li>
                    <li><a href="../category/philosophie.html">Philosophie</a></li>
                    <li><a href="../category/physique.html">Physique</a></li>
                    <li><a href="../category/reseaux.html">Réseaux</a></li>
                    <li><a href="../category/securite.html">Sécurité</a></li>
                <li><a href="../tag/tutoriel.html">Tutoriels</a></li>
<span id="pages">
                    <li><a href="../pages/contact.html">Contact</a></li>
                    <li><a href="../pages/publications.html">Publications</a></li>
                </span>
                </ul></nav>
        </header><!-- /#banner -->

            <aside id="featured" class="body">
                <article>
                    <img src="../images/20150127/pelican_logo.png" id="logo_article"/>
                    <h1 class="entry-title"><a href="../refonte-pgcd.html">Refonte du blog du PGCD avec Pelican</a></h1>
                        <hr/>
<footer class="post-info">
        <abbr class="published" title="2015-01-27T00:00:00+01:00">
                Publié : mar. 27 janvier 2015
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="../author/matlink.html">Matlink</a>
        </address>
<p>Dans <a href="../category/annonces.html">Annonces</a>. </p>
<p>tags: <a href="../tag/annonces.html">annonces</a> <a href="../tag/auto-hebergement.html">auto-hébergement</a> <a href="../tag/cms.html">CMS</a> <a href="../tag/pelican.html">pelican</a> </p>
</footer><!-- /.post-info -->                    <div style="clear:both;"></div>
                        <p>Si vous lisez cet article, vous avez probablement remarqué un gros changement au niveau du rendu du blog. En effet, je viens tout juste de terminer la migration du blog vers un nouveau <a href="https://fr.wikipedia.org/wiki/Syst%C3%A8me_de_gestion_de_contenu">CMS</a> au joli nom de <a href="http://blog.getpelican.com">Pelican</a>.</p>
<h2>Pourquoi quitter Wordpress ?</h2>
<p>C'est une bonne question, et heureusement j'ai quelques réponses. 
Wordpress est un CMS développé en <a href="https://en.wikipedia.org/wiki/PHP">PHP</a>. Wordpress, c'est cool car ça fonctionne bien, c'est joli et y'a pas besoin de se casser la tête pour écrire des articles. Cependant, Wordpress est connu pour être un emmental avec plein de trous. <a href="https://wpvulndb.com/">On en découvre souvent</a>. À ça rajoutons les <a href="https://wordpress.org/plugins/">plugins</a>, développés par la communauté. Ces plugins rajoutent des failles de sécurité également, et ils sont parfois codés avec les pieds (et quand on a des pieds de Hobbits, ça fait mal ! ).</p>
<p>Aussi, le problème d'avoir du PHP pour son blog, c'est qu'à chaque visite, le serveur exécute le fichier demandé, et cela augmente forcément la charge du serveur et le temps de réponse également. Pour un petit blog comme le PGCD c'est évidement une "pain in the arse" (une douleur dans l'cul ahah) comme diraient les Anglais.
Et puis Wordpress est lourd (on a un facteur 75 environ) : </p>
<div class="highlight"><pre>    <span class="nv">$ </span>du -h -d0 wordpress 
    158M    wordpress <span class="c">### Dossier d&#39;installation de Wordpress</span>
    <span class="nv">$ </span>du -h -d0 pelican 
    2,2M    pelican <span class="c">### Version statique du PGCD</span>
</pre></div>


<h2>Pourquoi utiliser Pelican ?</h2>
<p>Tout d'abord je voulais quelque chose de static. Rien de plus sécurisé que du <a href="https://en.wikipedia.org/wiki/HTML">HTML</a> complètement statique (sans JavaScript dans l'idéal). Et niveau temps de réponse, y'a pas photo ça fuse comme un suppo dans les fesses (le serveur n'a aucun traitement à faire : simplement récupérer le fichier et l'envoyer) ! 
Il n'y avait pas que Pelican qui se proposait à moi pour être utilisé, d'autres choses comme <a href="https://middlemanapp.com/">Middleman</a>, <a href="http://jekyllrb.com/">Jekyll</a>, ... Mais <a href="https://twitter.com/aeris22">Aeris</a> utilise Pelican depuis un moment et cela à l'air de bien fonctionner. Donc dans le cas où j'aurai un problème Aeris sera là pour m'aider :)</p>
<p>Aussi, le fait de pouvoir écrire ses articles en local sans avoir à contacter le serveur ne fait qu'améliorer l'expérience utilisateur : pas besoin d'uploader les fichiers à chaque changement, visualisation rapide, ... De plus, Python est multi-plate-forme donc il est possible aussi de générer les articles depuis Windows (je n'ai pas essayé mais je ne vois rien qui ne puisse géner cela).</p>
<h2>Comment ça fonctionne ?</h2>
<p>Pelican est développé en <a href="https://en.wikipedia.org/wiki/Python_%28programming_language%29">Python</a>. D'après la <a href="http://docs.getpelican.com/en/3.5.0/">documentation en ligne</a> il supporte le langage <a href="https://en.wikipedia.org/wiki/Markdown">Markdown</a>, <a href="https://en.wikipedia.org/wiki/ReStructuredText">reStructuredText</a> et <a href="http://www.methods.co.nz/asciidoc/">AsciiDoc</a>. Il prend les fichiers dans un dossier prédéfini, il les interprète et les converti au format HTML. Il est donc possible de générer les fichiers HTML depuis une machine locale et ne déposer sur le serveur que ces fichiers. Le serveur n'a donc pas besoin d'avoir des processus supplémentaires à faire tourner (donc c'est l'idéal pour les machines à faibles ressources tel un Raspberry Pi). </p>
<p>Markdown me semble le plus simple à apprivoiser, c'est donc avec ce langage que j'écris les articles. </p>
<h2>Mais est-ce aussi vraiment customisable ?</h2>
<p>Oui. Voire encore plus customisable que Wordpress. Il faut juste mettre les mains dans le code des <a href="http://docs.getpelican.com/en/3.5.0/themes.html">thèmes</a> et donc d'avoir fait un peu de HTML/CSS (mais ceci est accessible à tout le monde :)). Beaucoup de thèmes sont <a href="https://github.com/getpelican/pelican-themes">disponibles</a> pour ceux qui ne souhaitent pas mettre la main dans le cambouis. </p>
<h2>Où sont passés les commentaires ?</h2>
<p>Je suis encore en phase d'apprivoisement avec ce nouvel outil et j'ai encore pas mal de choses à améliorer. Maintenant que j'ai réécris tous les articles un-à-un, je vais pouvoir me consacrer disons aux méta-fonctions du blog : commentaires, statistiques (qu'il pourrait être intéressant de rendre publics), publication automatique sur Facebook/Twitter, ...</p>
<h2>EDIT</h2>
<p>J'ai installé un système de commentaires en JavaScript, nommé <a href="http://posativ.org/isso">ISSO</a>. A priori cela à l'air de fonctionner, même si quelques fois pour une raison encore indéterminée (probablement la longueur de l'URL de la page) le bouton envoyer de fonctionne pas (rien ne se passe). Si c'est le cas, envoyez moi un mail que j'y prête attention (en mentionnant s'il vous plaît la page concernée).
Les nouveaux commentaires seront mis en liste d'attente jusqu'à ce que je les valide. Je ne censurerai rien dans ces messages, il est juste question d'éviter les spammeurs. Si je vois que très peu de spammeurs envoient des demandes de commentaires, je lèverai cette restriction.</p>
<p>Si vous avez des remarques, des questions, ou si vous voulez plus de précisions concernant ce dont je viens de parler, postez un commentaire (désormais disponibles), ou envoyez un mail à pgcd[at]matlink[point]fr .</p><script data-isso="//fr.matlink.fr/comments/" src="//fr.matlink.fr/comments/js/embed.min.js"></script><p><a href="../refonte-pgcd.html#isso-thread">Commentaires</a></p>
                </article>
<p class="paginator">
    Page 1 / 1
</p>
            </aside><!-- /#featured -->
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/"><img src="../theme/images/icons/pelican_logo.png" />  Pelican</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://fr.matlink.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/M4tlink">Twitter</a></li>
                            <li><a href="https://www.facebook.com/partigeekscartesiensdemocrates">Facebook</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                <center>Tous les articles sont publiés sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="../theme/images/icons/cc-by-nc-sa.png" alt="CC-BY-NC-SA"></a></center>
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
        var pkBaseURL = "fr.matlink.fr/piwik";
    var _paq = _paq || [];
    _paq.push(["trackPageView"]);
    _paq.push(["enableLinkTracking"]);
    (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http")+"://"+pkBaseURL+"/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "1"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
    })();
    </script>
</body>
</html>