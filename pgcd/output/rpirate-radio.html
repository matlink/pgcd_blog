<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <title>Pirate Radio : transformez votre Raspberry Pi en émetteur radio</title>
        <link rel="shortcut icon" href="./theme/images/icons/atom.jpg" />
        <link rel="stylesheet" href="./theme/css/main.css" />

        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body">
                <h1><a href="./">Le Parti des Geeks Cartésiens Démocrates</a></h1>
 <strong>Blog d'un parti universitaire et passioné</strong>                <nav><ul>
                    <li class="active"><a href="./category/pgcd.html">PGCD</a></li>
<span id="pages">
                    <li><a href="./pages/contact.html">Contact</a></li>
                </span>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="./rpirate-radio.html" rel="bookmark"
           title="Permalink to Pirate Radio : transformez votre Raspberry Pi en émetteur radio">Pirate Radio : transformez votre Raspberry Pi en émetteur radio</a></h1>
    </header>

    <div class="entry-content">
<footer class="post-info">
        <abbr class="published" title="2014-11-16T17:05:00+01:00">
                Published: dim. 16 novembre 2014
        </abbr>

        <address class="vcard author">
                By                         <a class="url fn" href="./author/matlink.html">Matlink</a>
        </address>
<p>In <a href="./category/pgcd.html">PGCD</a>. </p>

</footer><!-- /.post-info -->      <p>Depuis que j'ai ce joujou de <a class="reference external" href="https://en.wikipedia.org/wiki/Raspberry_Pi">raspberry
pi</a>, je ne cesse de
chercher à le bidouiller pour donner des choses marrantes.</p>
<p>Et je suis tombé sur un article décrivant comment bidouiller son RPI
pour en faire une radio.
&lt;<a class="reference external" href="http://makezine.com/projects/make-38-cameras-and-av/raspberry-pirate-radio/">http://makezine.com/projects/make-38-cameras-and-av/raspberry-pirate-radio/</a>&gt;`__</p>
<p>Il faut savoir que le RPI (modèle A et B) possède 26 pins GPIO
permettant de contrôler un module externe ou de recevoir des
informations. Avec un petit bout de code (en Python ou autre), il est
alors possible par exemple d'allumer une LED, faire tourner un moteur,
recevoir un signal quand on appuie sur un bouton, ... Les usages sont
multiples et infinis.</p>
<p>Dans cet article, je vais vous montrer comment j'ai moi-même fait pour
faire fonctionner mon RPI en mode radio, car j'ai certaines choses à
rajouter concernant l'installation de base.</p>
<p>Tout d'abord on se connecte en SSH sur la raspberry, et une fois dessus,
on va récupérer le script Python qui permet de lancer la radio :</p>
<ul class="simple">
<li>on installe git si c'est pas déjà fait :
<tt class="docutils literal">sudo <span class="pre">apt-get</span> install git</tt></li>
<li>ensuite, ffmpeg pour lire les fichiers de musique :
<tt class="docutils literal">sudo <span class="pre">apt-get</span> install ffmpeg</tt></li>
<li>config-parser pour lire les fichiers de configuration :
<tt class="docutils literal">sudo <span class="pre">apt-get</span> install <span class="pre">python-pip</span> &amp;&amp; sudo pip install configparser</tt></li>
<li>on créer un dossier pour la radio :
<tt class="docutils literal">sudo mkdir ∕pirateradio/ &amp;&amp; cd /pirateradio/</tt></li>
<li>on récupère les scripts python de la radio :
<tt class="docutils literal">git clone <span class="pre">https://github.com/Make-Magazine/PirateRadio</span> ./</tt></li>
<li>on modifie le fichier Python pour renseigner notre dossier :
<tt class="docutils literal">sudo sed <span class="pre">-i</span> <span class="pre">'s&#64;/root/pifm&#64;/pirateradio/pifm&#64;g'</span> /pirateradio/PirateRadio.py</tt></li>
<li>on ouvre le fichier de configuration et on y met nos paramètres :
<tt class="docutils literal">sudo nano pirateradio.conf</tt><ul>
<li>frequency : la fréquence sur laquelle émettre la musique</li>
<li>shuffle : True pour activer la lecture aléatoire, False sinon</li>
<li>repeat_all : True si vous voulez jouer en boucle les musiques</li>
<li>stereo_playback : pour activer ou non le stéréo</li>
<li>music_dir : le répertoire où se trouvent vos musiques</li>
</ul>
</li>
</ul>
<p>Vous copiez ensuite vos musiques dans le répertoire que vous avez
indiqué dans le fichier de configuration. Après ça, il vous faut trouver
un fil métallique afin de faire antenne. Pour ma part, j'ai récupéré le
câble d'un appareil qui ne fonctionnait plus. Vous devez le brancher sur
votre RPI sur le GPIO 4 (le pin 7) comme sur la photo ci dessus :</p>
<p>[caption id=&quot;attachment_147&quot; align=&quot;aligncenter&quot;
width=&quot;300&quot;] Cliquez pour agrandir[/caption]</p>
<p>Il vous reste ensuite plus qu'à lancer la radio avec la commande
`` python /pirateradio/PirateRadio.py``</p>
<p>J'ai créé un script shell pour installer tout ça automatiquement,
disponible ici :<a class="reference external" href="https://github.com/matlink/rpi-radio">https://github.com/matlink/rpi-radio</a></p>
<p><a class="reference external" href="http://makezine.com/projects/make-38-cameras-and-av/raspberry-pirate-radio/">source</a></p>

    </div><!-- /.entry-content -->

  </article>
</section>
        <section id="extras" class="body">
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                <center>Tous les articles sont publiés sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="./theme/images/icons/cc-by-nc-sa.png" alt="CC-BY-NC-SA"></a></center>
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

</body>
</html>