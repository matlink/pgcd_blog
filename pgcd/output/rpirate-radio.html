<!DOCTYPE html>
<html lang="fr">
<head>
        <meta charset="utf-8" />
        <title>Pirate Radio : transformez votre Raspberry Pi en émetteur radio</title>
        <link rel="shortcut icon" href="./theme/images/icons/atom.jpg" />
        <link rel="stylesheet" href="./theme/css/main.css" />
        <link href="https://fr.matlink.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Le Parti des Geeks Cartésiens Démocrates Atom Feed" />
        <!--[if IE]>
            <script src="http://html5shiv.googlecode.com/svn/trunk/html5.js"></script>
        <![endif]-->
</head>

<body id="index" class="home">
        <header id="banner" class="body"  >
                <h1><a href="./">Le Parti des Geeks Cartésiens Démocrates</a></h1>
                <center><a id="title_logo" href="./"><img src="./theme/images/icons/atom_big.png" /></a></center>
 <strong>Blog d'un ensemble universitaire et passioné</strong>                <nav><ul>
                    <li><a href="./category/annonces.html">Annonces</a></li>
                    <li><a href="./category/auto-hebergement.html">Auto-hébergement</a></li>
                    <li class="active"><a href="./category/hacking.html">Hacking</a></li>
                    <li><a href="./category/logiciels-libres.html">Logiciels Libres</a></li>
                    <li><a href="./category/philosophie.html">Philosophie</a></li>
                    <li><a href="./category/physique.html">Physique</a></li>
                    <li><a href="./category/reseaux.html">Réseaux</a></li>
                    <li><a href="./category/securite.html">Sécurité</a></li>
                <li><a href="./tag/tutoriel.html">Tutoriels</a></li>
<span id="pages">
                    <li><a href="./pages/contact.html">Contact</a></li>
                </span>
                </ul></nav>
        </header><!-- /#banner -->
<section id="content" class="body">
  <article>
    <header>
      <h1 class="entry-title">
        <a href="./rpirate-radio.html" rel="bookmark"
           title="Permalink to Pirate Radio : transformez votre Raspberry Pi en émetteur radio">Pirate Radio : transformez votre Raspberry Pi en émetteur radio</a></h1>
    </header>
    <div class="entry-content">
      <hr/>
<footer class="post-info">
        <abbr class="published" title="2014-11-16T17:05:00+01:00">
                Publié : dim. 16 novembre 2014
        </abbr>

        <address class="vcard author">
                Par                         <a class="url fn" href="./author/matlink.html">Matlink</a>
        </address>
<p>Dans <a href="./category/hacking.html">Hacking</a>. </p>
<p>tags: <a href="./tag/tutoriel.html">tutoriel</a> </p>
</footer><!-- /.post-info -->      <div style="clear:both;"></div>
      <p>Depuis que j'ai ce joujou de <a href="https://en.wikipedia.org/wiki/Raspberry_Pi">raspberry
pi</a>, je ne cesse de
chercher à le bidouiller pour donner des choses marrantes.</p>
<p>Et je suis tombé sur <a href="http://makezine.com/projects/make-38-cameras-and-av/raspberry-pirate-radio/">un article décrivant comment bidouiller son RPI
pour en faire une radio.</a></p>
<p>Il faut savoir que le RPI (modèle A et B) possède 26 pins GPIO
permettant de contrôler un module externe ou de recevoir des
informations. Avec un petit bout de code (en Python ou autre), il est
alors possible par exemple d'allumer une LED, faire tourner un moteur,
recevoir un signal quand on appuie sur un bouton, ... Les usages sont
multiples et infinis.</p>
<p>Dans cet article, je vais vous montrer comment j'ai moi-même fait pour
faire fonctionner mon RPI en mode radio, car j'ai certaines choses à
rajouter concernant l'installation de base.</p>
<p>Tout d'abord on se connecte en SSH sur la raspberry, et une fois dessus,
on va récupérer le script Python qui permet de lancer la radio :</p>
<ul>
<li>
<p>on installe git si c'est pas déjà fait : </p>
<div class="highlight"><pre> sudo apt-get install git
</pre></div>


</li>
<li>
<p>ensuite, ffmpeg pour lire les fichiers de musique :</p>
<div class="highlight"><pre> sudo apt-get install ffmpeg
</pre></div>


</li>
<li>
<p>config-parser pour lire les fichiers de configuration :</p>
<div class="highlight"><pre> sudo apt-get install python-pip &amp;&amp; sudo pip install configparser
</pre></div>


</li>
<li>
<p>on créer un dossier pour la radio :</p>
<div class="highlight"><pre> sudo mkdir ∕pirateradio/ &amp;&amp; cd /pirateradio/
</pre></div>


</li>
<li>
<p>on récupère les scripts python de la radio :</p>
<div class="highlight"><pre> git clone https://github.com/Make-Magazine/PirateRadio ./
</pre></div>


</li>
<li>
<p>on modifie le fichier Python pour renseigner notre dossier :</p>
<div class="highlight"><pre> sudo sed -i &#39;s@/root/pifm@/pirateradio/pifm@g&#39; /pirateradio/PirateRadio.py
</pre></div>


</li>
<li>
<p>on ouvre le fichier de configuration et on y met nos paramètres :</p>
<div class="highlight"><pre> sudo nano pirateradio.conf

 -  frequency : la fréquence sur laquelle émettre la musique
 -  shuffle : True pour activer la lecture aléatoire, False sinon
 -  repeat\_all : True si vous voulez jouer en boucle les musiques
 -  stereo\_playback : pour activer ou non le stéréo
 -  music\_dir : le répertoire où se trouvent vos musiques
</pre></div>


</li>
</ul>
<p>Vous copiez ensuite vos musiques dans le répertoire que vous avez
indiqué dans le fichier de configuration. Après ça, il vous faut trouver
un fil métallique afin de faire antenne. Pour ma part, j'ai récupéré le
câble d'un appareil qui ne fonctionnait plus. Vous devez le brancher sur
votre RPI sur le GPIO 4 (le pin 7) comme sur la photo ci dessus :</p>
<p><center><img alt="antenne_gpio" src="./images/antenne_gpio_pin7_400-300x224.jpg" /></center></p>
<p>Il vous reste ensuite plus qu'à lancer la radio avec la commande 
<code>python /pirateradio/PirateRadio.py</code></p>
<p>J'ai créé un script shell pour installer tout ça automatiquement,
disponible ici : <a href="https://github.com/matlink/rpi-radio">https://github.com/matlink/rpi-radio</a></p>
<p><a href="http://makezine.com/projects/make-38-cameras-and-av/raspberry-pirate-radio/">source</a></p>
    </div>
      <div style="clear:both;"></div>
      <hr/><!-- /.entry-content -->
<script data-isso="//fr.matlink.fr/comments/" src="//fr.matlink.fr/comments/js/embed.min.js"></script><hr /><section id="isso-thread"></section>
<noscript>les commentaires de ce site utilisent javascript</noscript>
  </article>
</section>
        <section id="extras" class="body">
                <div class="blogroll">
                        <h2>blogroll</h2>
                        <ul>
                            <li><a href="http://getpelican.com/"><img src="./theme/images/icons/pelican_logo.png" />  Pelican</a></li>
                        </ul>
                </div><!-- /.blogroll -->
                <div class="social">
                        <h2>social</h2>
                        <ul>
                            <li><a href="https://fr.matlink.fr/feeds/all.atom.xml" type="application/atom+xml" rel="alternate">atom feed</a></li>

                            <li><a href="https://twitter.com/M4tlink">Twitter</a></li>
                            <li><a href="https://www.facebook.com/partigeekscartesiensdemocrates">Facebook</a></li>
                        </ul>
                </div><!-- /.social -->
        </section><!-- /#extras -->

        <footer id="contentinfo" class="body">
                <address id="about" class="vcard body">
                <center>Tous les articles sont publiés sous licence <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/"><img src="./theme/images/icons/cc-by-nc-sa.png" alt="CC-BY-NC-SA"></a></center>
                </address><!-- /#about -->
        </footer><!-- /#contentinfo -->

    <script type="text/javascript">
        var pkBaseURL = "fr.matlink.fr/piwik";
    var _paq = _paq || [];
    _paq.push(["trackPageView"]);
    _paq.push(["enableLinkTracking"]);
    (function() {
        var u=(("https:" == document.location.protocol) ? "https" : "http")+"://"+pkBaseURL+"/";
        _paq.push(["setTrackerUrl", u+"piwik.php"]);
        _paq.push(["setSiteId", "1"]);
        var d=document, g=d.createElement("script"), s=d.getElementsByTagName("script")[0]; g.type="text/javascript";
        g.defer=true; g.async=true; g.src=u+"piwik.js"; s.parentNode.insertBefore(g,s);
    })();
    </script>
</body>
</html>